\section{Cauchy-Schwarz不等式}
\label{sec:cauchy-schwarz-inequalities}

% Cauchy-Schwarz
\begin{theorem}[Cauchy-Schwarz Inequality]
对 $\forall a_i, b_i\in \mathcal{R}$, $\forall n\in\mathcal{Z}^+$, 总有
\begin{align}
  \left(\sum_{i=1}^{n} a_ib_i\right)^2 \le \left(\sum_{i=1}^{n}a_i^2\right) \left(\sum_{i=1}^{n}b_i^2\right)
\end{align}
\end{theorem}

\begin{proof}
  令
  \begin{align*}
    S_n = \left(\sum_{i=1}^{n}a_i^2\right) \left(\sum_{i=1}^{n}b_i^2\right) - \left(\sum_{i=1}^{n} a_ib_i\right)^2
  \end{align*}
  则 $S_1 = a_1^2b_1^2 - (a_1b_1)^2 = 0$，且
  \begin{align*}
    S_{n+1} - S_n =& \phantom{-} \left(\sum_{i=1}^{n+1}a_i^2\right) \left(\sum_{i=1}^{n+1}b_i^2\right) - \left(\sum_{i=1}^{n+1} a_ib_i\right)^2 \\
     &- \left(\sum_{i=1}^{n}a_i^2\right) \left(\sum_{i=1}^{n}b_i^2\right) + \left(\sum_{i=1}^{n} a_ib_i\right)^2\\
  \end{align*}
  请自行证明 $S_{n+1}\ge S_n$。从而有 $S_{n+1}\ge S_n\ge\cdots S_1 = 0$。
\end{proof}

\note 令$A\equiv\left(\sum_{i=1}^{n}a_i^2\right)$, $B\equiv\left(\sum_{i=1}^{n}b_i^2\right)$，$C\equiv\left(\sum_{i=1}^{n}b_i^2\right)$，则
\begingroup\allowdisplaybreaks
\begin{align*}
  S_{n+1} - S_n &=&& (A+a_{n+1}^2)(B+b_{n+1}^2) - (C+a_{n+1}b_{n+1})^2 - AB + C^2\\
  &=&& AB + Ab_{n+1}^2 + a_{n+1}^2B + a_{n+1}^2b_{n+1}^2 - C^2 - 2a_{n+1}b_{n+1}C - a_{n+1}^2b_{n+1}^2\\
  &&&- AB + C^2\\
  &=&& Ab_{n+1}^2 + a_{n+1}^2B - 2a_{n+1}b_{n+1}C\\
  &=&& \left(\sum_{i=1}^{n}a_i^2\right) b_{n+1}^2 + \left(\sum_{i=1}^{n}b_i^2\right) a_{n+1}^2
       - \left(\sum_{i=1}^{n}a_ib_i\right) \cdot 2a_{n+1}b_{n+1}\\
  &=&& \sum_{i=1}^{n} \left( a_i^2b_{n+1}^2 + b_i^2a_{n+1}^2 - a_ib_i\cdot 2a_{n+1}b_{n+1} \right)\\
  &=&& \sum_{i=1}^{n} \left( (a_ib_{n+1})^2 + (b_ia_{n+1})^2 - 2(a_ib_{n+1})(b_ia_{n+1}) \right)\\
  &=&& \sum_{i=1}^{n} \left( (a_ib_{n+1} - b_ia_{n+1})^2 \right)\\
  &\ge&&0
\end{align*}
\endgroup


\begin{lemma}[Titu's lemma，T2 lemma]\label{lemma:titu}
  任意两正数序列$a_1,a_2,\cdots,a_n$和$b_1,b_2,\cdots,b_n$，有
  \begin{align*}
    \frac{a_1^2}{b_1} + \frac{a_2^2}{b_2} + \cdots + \frac{a_n^2}{b_n} \ge
    \frac{\left(a_1+a_2+\cdots a_n\right)^2}{b_1+b_2+\cdots+b_n}
  \end{align*}
\end{lemma}
\begin{proof}
  构造两序列应用柯西--施瓦茨不等式。构造两序列如下：
  \begin{align*}
    \begin{matrix}%
      \Big\{ &\sqrt{b_1}, &\sqrt{b_2},&\cdots,\sqrt{b_n} &\Big\}\\
      \Big\{ &\dfrac{a_1}{\sqrt{b_1}}, &\dfrac{a_2}{\sqrt{b_2}},&\cdots,\dfrac{a_n}{\sqrt{b_n}} & \Big\}
    \end{matrix}
  \end{align*}
  应用柯西--施瓦茨不等式立得。
\end{proof}